<div class="container">
  <div class='panel-heading'>
    <h1 class="mt-5">{{title}}</h1>
  </div>
  <form [formGroup]="form" (ngSubmit)="save()">
    <br />  
    <button type="button" class="btn btn-danger float-right m-1" *ngIf="isReadOnly" data-toggle="modal" data-target="#warningModal">Delete</button>
    <button type="button" class="btn btn-info float-right m-1" *ngIf="isReadOnly" (click)="changeActivity()">Edit</button>
    <button type="button" class="btn btn-warning float-right m-1" *ngIf="!isReadOnly" (click)="cancel()">Cancel</button>
    <button class="btn btn-success float-right m-1" type="submit" [disabled]="!form.valid" *ngIf="!isReadOnly">Save</button>
    <br />
    <br />
    <div class="form-group">
      <label for="name"
             [class.active]="customer.name"
             data-error="Name is required and needs to contain at least 3 chars">
        Name:
      </label>
      <input id="name" type="text" class="form-control" [readonly]="isReadOnly"
             [(ngModel)]="customer.name" formControlName="name"
             [class.invalid]="form.controls['name'].touched && !form.controls['name'].valid">
      <div *ngIf="!form.controls['name'].valid && form.controls['name'].touched"
           class="alert alert-danger">
        "Name" is required and must be at least 3 characters long
      </div>
    </div>
    <div class="form-group">
      <label for="surname"
             [class.active]="customer.surname"
             data-error="Surname is required and needs to contain at least 3 chars">
        Surname:
      </label>
      <input id="name" type="text" class="validate form-control" [readonly]="isReadOnly"
             [(ngModel)]="customer.surname" formControlName="surname"
             [class.invalid]="form.controls['surname'].touched && !form.controls['surname'].valid">
      <div *ngIf="!form.controls['surname'].valid && form.controls['surname'].touched"
           class="alert alert-danger">
        "Surname" is required and must be at least 3 characters long
      </div>
    </div>
    <div class="form-group">
      <label for="address"
             [class.active]="customer.address"
             data-error="Address is required and needs to contain at least 3 chars">
        Address:
      </label>
      <input id="name" type="text" class="validate form-control" [readonly]="isReadOnly"
             [(ngModel)]="customer.address" formControlName="address"
             [class.invalid]="form.controls['address'].touched && !form.controls['address'].valid">
      <div *ngIf="!form.controls['address'].valid && form.controls['address'].touched"
           class="alert alert-danger">
        "Address" is required and must be at least 6 characters long
      </div>
    </div>
    <div class="form-group">
      <label for="telephoneNumber" [class.active]="customer.telephoneNumber">Telephone Number:</label>
      <input id="telephoneNumber" type="text" class="validate form-control" [readonly]="isReadOnly"
             [(ngModel)]="customer.telephoneNumber" formControlName="telephoneNumber">
      <div *ngIf="!form.controls['telephoneNumber'].valid && form.controls['telephoneNumber'].touched"
           class="alert alert-danger">
        "Telephone Number" is required and must be 9 numbers long
      </div>
    </div>
  </form>
  <div class="modal fade" id="warningModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title text-warning">Confirmation</h4>
        </div>
        <div class="modal-body">
          <p>Are you sure you want to delete this item?</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-success"data-dismiss="modal" (click)="delete()" >Yes</button>
          <button type="button" class="btn btn-danger" data-dismiss="modal">No</button>
        </div>
      </div>
    </div>
  </div>
</div>
